<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cadastro de Defeito - Oficina AutoPro</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
  <aside class="sidebar">
    <div class="logo">
      <i class="fas fa-wrench"></i>
      <h2>AutoPro</h2>
    </div>
    <nav>
      <a href="index.html">
        <i class="fas fa-tachometer-alt"></i>
        Dashboard
      </a>
      <a href="cadastro_cliente.html">
        <i class="fas fa-users"></i>
        Clientes
      </a>
      <a href="cadastro_veiculo.html">
        <i class="fas fa-car"></i>
        Veículos
      </a>
      <a href="cadastro_defeito.html" class="active">
        <i class="fas fa-exclamation-triangle"></i>
        Defeitos
      </a>
      <a href="servico_realizado.html">
        <i class="fas fa-tools"></i>
        Serviços
      </a>
      <a href="relatorios.html">
        <i class="fas fa-chart-bar"></i>
        Relatórios
      </a>
      <a href="consultas.html">
        <i class="fas fa-search"></i>
        Consultas
      </a>
    </nav>
  </aside>

  <div class="banner-motivacional">
    <p>🔧 Oficina AutoPro - Excelência em cada serviço! Transformando problemas em soluções. 🚗💨</p>
  </div>

  <main class="content">
    <div class="page-header">
      <h1><i class="fas fa-exclamation-triangle"></i> Cadastro de Defeito</h1>
      <button class="btn-secondary" onclick="toggleDefectList()">
        <i class="fas fa-list"></i> Ver Defeitos
      </button>
    </div>

    <div class="form-container">
      <form id="formDefeito">
        <div class="form-group">
          <label for="cliente_id">
            <i class="fas fa-user"></i>
            Cliente (Opcional)
          </label>
          <select id="cliente_id" name="cliente_id">
            <option value="">Selecione o cliente (opcional)</option>
          </select>
          <small style="color: var(--gray-500); margin-top: 0.25rem; font-size: 0.875rem;">
            Associe o defeito a um cliente específico ou deixe em branco para defeito geral
          </small>
        </div>

        <div class="form-group">
          <label for="veiculo_id">
            <i class="fas fa-car"></i>
            Veículo (Opcional)
          </label>
          <select id="veiculo_id" name="veiculo_id">
            <option value="">Selecione o veículo (opcional)</option>
          </select>
          <small style="color: var(--gray-500); margin-top: 0.25rem; font-size: 0.875rem;">
            Selecione primeiro um cliente para ver seus veículos
          </small>
        </div>

        <div class="form-group">
          <label for="categoria">
            <i class="fas fa-tags"></i>
            Categoria do Defeito
          </label>
          <select id="categoria" name="categoria" required>
            <option value="">Selecione a categoria</option>
            <option value="Motor">🔧 Motor</option>
            <option value="Freios">🛑 Freios</option>
            <option value="Suspensão">🚗 Suspensão</option>
            <option value="Elétrica">⚡ Sistema Elétrico</option>
            <option value="Transmissão">⚙️ Transmissão</option>
            <option value="Ar Condicionado">❄️ Ar Condicionado</option>
            <option value="Pneus">🛞 Pneus e Rodas</option>
            <option value="Carroceria">🚙 Carroceria</option>
            <option value="Outros">🔧 Outros</option>
          </select>
        </div>

        <div class="form-group">
          <label for="prioridade">
            <i class="fas fa-exclamation"></i>
            Prioridade
          </label>
          <select id="prioridade" name="prioridade" required>
            <option value="">Selecione a prioridade</option>
            <option value="Baixa">🟢 Baixa</option>
            <option value="Média">🟡 Média</option>
            <option value="Alta">🟠 Alta</option>
            <option value="Urgente">🔴 Urgente</option>
          </select>
        </div>

        <div class="form-group">
          <label for="descricao">
            <i class="fas fa-clipboard-list"></i>
            Descrição do Defeito
          </label>
          <textarea id="descricao" name="descricao" rows="4" required 
                    placeholder="Descreva detalhadamente o defeito ou problema relatado pelo cliente. Inclua sintomas, quando ocorre, frequência, etc."></textarea>
        </div>

        <div class="form-group">
          <label for="observacoes">
            <i class="fas fa-sticky-note"></i>
            Observações Técnicas
          </label>
          <textarea id="observacoes" name="observacoes" rows="2" 
                    placeholder="Observações técnicas, diagnóstico inicial, peças necessárias, etc. (opcional)"></textarea>
        </div>

        <button type="submit" class="btn-primary">
          <i class="fas fa-save"></i>
          Salvar Defeito
        </button>
      </form>
    </div>

    <div id="defectList" class="data-table" style="display: none;">
      <h2>Defeitos Cadastrados</h2>
      <div class="table-container">
        <table id="defeitosTable">
          <thead>
            <tr>
              <th>Cliente</th>
              <th>Veículo</th>
              <th>Categoria</th>
              <th>Prioridade</th>
              <th>Descrição</th>
              <th>Data Cadastro</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <!-- Dados carregados via JavaScript -->
          </tbody>
        </table>
      </div>
    </div>
  </main>

  <script src="script.js"></script>
</body>
</html>